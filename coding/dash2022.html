<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="description" content="a newcomer into the Flutter framework">
  <meta name="keywords" content="Dart, Flutter, iOS App, Android App">
  <meta name="author" content="Cheok-Yin Fung">  
  <link rel="styleSheet" href="../docs/main.css" type="text/css" media="(min-device-width: 769px)">
  <link rel="stylesheet" href="../docs/mobile.css" type="text/css" media="only screen and (max-device-width: 768px)">


  <title> Dart and Flutter: First Encounter - What CY had done in the Second Week of February 2022 </title>
</head>

<body>

<div class="heading">
<h1 align="right"> Learning </h1>
</div>

<div class="bar">
<ul>

  <li><a href="../index.html">Hello World</a></li>

  <li><a href="blog.html">Blog</a></li>

  <li><a href="../cv.html">RÃ©sumÃ©</a></li>

  <li><a href="../prod.html">Production</a></li>

  <li><a href="../links.html">Links</a></li>

</ul>
</div>

<div class="main">
  <h2> Dart and Flutter &dash; What CY had done in the Second Week of February 2022 </h2>

<p></p>

<p><em>This is a highly personalized post. </em></p>

<div style="border:1px dotted black; padding-left: 10px">&nbsp;&nbsp;Content:<br>
Why I did this...<br>
What I Downloaded<br>
Linked Devices<br>
Commandline-Oriented Framework Configuration<br>
<i>Essential Dart</i> &dash; Need an Update<br>
Summary(I)<br>
Summary(II)<br>
Suggestion<br>
External Links and Resources
</div>

<hr>

<div style="float:right; padding: 10px; text-align:center; border: 1px black dotted">
<img alt="" src="../docs/fairuse_img/dash.jpg" width="100px" />
<br>
Dash &dash; the mascot <br>for the Dart language<br> and<br> the Flutter framework
</div>


<h3>Why I did this...</h3>

<p>Being over-ambitious, I had tried to help a YouTuber and her team realize their goal of a production of a mobile app.</p>

<p>I <i>thought</i> the Flutter framework works like Java frameworks, that is: once a programmer finished the coding, there were two virtual machines coded for iOS and Android OS respectively, so that how the App looks and works is consistent. </p>

<p>I was wrong. From my understanding, programmers need to compile for iOS and for Android OS (and for web broswer) under the Flutter framework. Like you write a C++ code, you should compile it for Windows and Linux respectively if you want the program available for both OS.</p>

<p>Anyway, I would like to record the installation process and the minimum testing for future reference.</p>

<h3>What I Downloaded</h3>
<p>It turns out that Flutter framework is quite huge for my laptop. I needed to install
several Google products: 
 Google Chrome (must have; around 290 MB), Android SDK(11.3 GB), Android Studio(1.9 GB), Flutter(1.9 GB) and Android SDK Platform-Tools(35 MB)
<span style="font-size:small">(its significance will explain later within this blogpost)</span>. 
The latter four cost 15.1Â GB in total.
</p>

<div style="float:right; padding: 5px; border: 1px dotted black">
<img alt="" src="../docs/fairuse_img/flutter.jpg" width="100px"/>
<br>
Logo of Flutter
</div>
<h3>Linked Devices</h3>

<p>I did not have an iPhone on hand, but my smartphone is from Samsung, i.e. I have a physical device of Android OS for testing. Originally I did not want to use my phone for testing, but...</p>

<p>
Each virtual device costs around 500 MB. The most ridiculous thing was that every time the Android Studio created a virtual device and I tried to run the emulator, a message "The emulator process for [virtual device name] has terminated." popped.
I searched online but could not find a solution. After some while, I decided to use my smartphone for testing.
 (<a href="../docs/screenshot/VirtualDevice_Screenshot.png">screenshot 1</a>)
 (<a href="../docs/screenshot/emulatorProcessTerminated_Screenshot.png">screenshot 2</a>)
</p>

<a href="../docs/screenshot/PairNewDevicesOverWiFi_Screenshot.png"><img alt="" src="../docs/screenshot/PairNewDevicesOverWiFi_Screenshot.png" width="400px" style="float:right" /></a>
<p>
For most resources I had searched, they suggested a USB line was needed to connect the physical device to the computer. But I had found that it is possible to connect the physical device to the computer completely via WiFi.
</p>

<p>The process was also uneasy. I encountered a message "adb server version ([number]) doesn't match this client ([number])". Luckily I found <a href="https://github.com/Genymobile/scrcpy/issues/527#issuecomment-612412618">a possible solution</a> (on GitHub) via searching. </p>

<p>And I would like to add that before the Android smartphone becoming a physical device for developing, we have to enable the "developer option". The way to enable this option is quite funny &dash;
"tap the Build Number option 7 times". See <a href="https://developer.android.com/studio/debug/dev-options">the official document</a>. </p>

<div style="text-align:center;"> 
<img alt="" style="border: 1px solid black" src="../docs/screenshot/flutterHelloWorld20220204.jpg" width="500px"></div>

<h3>Commandline-Oriented Framework Configuration</h3>
<p><strong>This section follows the official document. They <a href="https://docs.flutter.dev/get-started/install/linux#android-setup">(I)</a><a href="https://docs.flutter.dev/get-started/test-drive?tab=terminal">(II)</a>  are  great.</strong></p>

<div class="code_vim_hl">
<tt>
$ flutter doctor<br>
<i> msg...</i><br>
$ flutter devices<br>
<i> msg...</i><br>
$ cd <i>the_working_directory</i>
$ flutter create myapp<br>
<i> msg...</i><br>
$ cd myapp<br>
$ flutter run</tt>
<pre>Launching lib/main.dart on SM A515F in debug mode...
Running Gradle task 'assembleDebug'...                             38.2s
âœ“  Built build/app/outputs/flutter-apk/app-debug.apk.
Installing build/app/outputs/flutter-apk/app.apk...               625.7s
Syncing files to device SM A515F...                                350ms 

Flutter run key commands.
r Hot reload. ðŸ”¥ðŸ”¥ðŸ”¥
R Hot restart.
h List all available interactive commands.
d Detach (terminate "flutter run" but leave application running).
c Clear the screen
q Quit (terminate the application on the device).

ðŸ’ª Running with sound null safety ðŸ’ª

<i> more msg related to the debugger and profiler for the testing device...</i>

Application finished.</pre>
</div>

<h3><i>Essential Dart</i> &dash; Need an Update</h3>
<div style="float:right; padding: 5px; border: 1px dotted black">
<img alt="" src="../docs/fairuse_img/dart.png" width="100px"><br> 
Logo of Dart
</div>

<p>I tried to get a free programming book, therefore I visited the <a href="https://ebookfoundation.github.io/free-programming-books/">List of Free Learning Resources In Many Languages</a> page. There were two books listed, and I started with <i><a href="https://www.programming-books.io/essential/dart/">Essential Dart</a></i>. However, the book needs an update.
</p>

<p>At this moment, I just pick what in the "Getting started with Dart" section.</p>

<h4>Hello World</h4>
<div class="code_vim_hl"><pre>
$ dart hello_world.dart
</pre></div>

<p>This runs smoothly.</p>

<h4>Web App from Dart</h4>
<p>To build the App, run on the terminal</p>
<div class="code_vim_hl"><pre>
$ dart create -t web-simple cat_display
$ cd cat_display
</pre></div>

<p>Change the content of <tt>index.html</tt> into </p>

<div class="code_vim_hl"><pre>
&lt;img id="cats"&gt;&lt;/img&gt;
</div>

<p>Change the content of <tt>main.dart</tt> into </p>

<div class="code_vim_hl">
<pre><font color="#FCE94F">import</font> <font color="#AD7FA8">&apos;dart:html&apos;</font>;
<font color="#34E2E2">/// Stores the image in [blob] in the [ImageElement] of the given [selector].</font>
<font color="#87FFAF">void</font> setImage(selector, blob) {
  FileReader reader = <font color="#FCE94F">new</font> FileReader();
  reader.onLoad.listen((fe) {
    ImageElement image = document.querySelector(selector) <u>as ImageElement</u>;
    image.src = reader.result <u>as <font color="#87FFAF">String</font></u>;
  });
  reader.readAsDataUrl(blob);
}

main() <font color="#FCE94F">async</font> {
  <font color="#34E2E2"><b>var</b></font> url = <font color="#AD7FA8">&quot;https://upload.wikimedia.org/wikipedia/commons/2/28/Tortoiseshell_she-cat.JPG&quot;</font>;

  <font color="#34E2E2">// Initiates a request and asynchronously waits for the result.</font>
  <font color="#34E2E2"><b>var</b></font> request = <font color="#FCE94F">await</font> HttpRequest.request(url, responseType: <font color="#AD7FA8">&apos;blob&apos;</font>);
  <font color="#34E2E2"><b>var</b></font> blob = request.response;
  setImage(<font color="#AD7FA8">&quot;#cats&quot;</font>, blob);
}
</pre></div>

<p>Then:</p>

<div class="code_vim_hl"><pre>
$ dart pub global activate webdev
</pre></div>

<p>Then run</p>

<div class="code_vim_hl"><pre>
$ webdev serve
</pre></div>

<p>or</p>
<div class="code_vim_hl"><pre>
$ webdev serve web:[port number]  #<a href="https://stackoverflow.com/questions/56816652/failed-to-create-local-server-address-already-in-use-when-trying-to-serve-fl">ref</a>
</pre></div>

<p>Check <tt>http://localhost:[port number]/</tt> on the browser then. </p>

<blockquote>
To kill the process:
<div class="code_vim_hl"><pre>
$ ps -e | grep dart
  <i>_________PID_</i> pts/1    00:00:00 dart:webdev.dar
  <i>_another_PID_</i> ?        00:00:05 dart:build_runn
$ kill -9 [list of PIDs of related processes]
</pre></div>
</blockquote>

<h4>Getters and Setters of Dart</h4>

<div class="code_vim_hl">
<pre><font color="#87FFAF">void</font> main() {
  <font color="#34E2E2"><b>var</b></font> cat = <font color="#FCE94F">new</font> Cat();

  print(<font color="#AD7FA8">&quot;Is cat hungry? ${cat.isHungry}&quot;</font>); <font color="#34E2E2">// Is cat hungry? true</font>
  print(<font color="#AD7FA8">&quot;Is cat cuddly? ${cat.isCuddly}&quot;</font>); <font color="#34E2E2">// Is cat cuddly? false</font>
  print(<font color="#AD7FA8">&quot;Feed cat.&quot;</font>);
  cat.isHungry = <font color="#AD7FA8">false</font>;
  print(<font color="#AD7FA8">&quot;Is cat hungry? ${cat.isHungry}&quot;</font>); <font color="#34E2E2">// Is cat hungry? false</font>
  print(<font color="#AD7FA8">&quot;Is cat cuddly? ${cat.isCuddly}&quot;</font>); <font color="#34E2E2">// Is cat cuddly? true</font>
}

<font color="#FCE94F">class</font> Cat {
  <font color="#87FFAF">bool</font> _isHungry = <font color="#AD7FA8">true</font>;
  
  <font color="#87FFAF">bool</font> get isCuddly =&gt; !_isHungry;
  
  <font color="#87FFAF">bool</font> get isHungry =&gt; _isHungry;
  <font color="#87FFAF"><u>void</u></font> set isHungry(<font color="#87FFAF">bool</font> hungry) =&gt; <font color="#34E2E2"><b>this</b></font>._isHungry = hungry;
}

</pre>
</div>

<p>Then run</p>
<div class="code_vim_hl"><pre>
$ dart getters_and_setters.dart
</pre></div>


<h3>Summary(I) - Mobile Apps Development</h3>
<p>It spends more time than what I thought. I am unsure that I can finish the basic learning by the end of this year.</p>

<h3>Summary(II) - Infrastructures...</h3>

<p>Maybe look on YouTube videos before I install a framework...</p>

<h3>Suggestion - on Learning Dart...</h3>
<p>As long as there are no good free books for Dart, I think one may study the Java language before diving into Dart. <!--I found that I have forgotten many subtlies in Java after half a year obtaining the OCJA cert.--> â–¡</p>

<h3>External Links and Resources</h3>
<ol>
    <li><a href="https://www.freecodecamp.org/news/https-medium-com-rahman-sameeha-whats-flutter-an-intro-to-dart-6fc42ba7c4a3/">A simplified introduction to Dart and Flutter</a>, by Sameeha Rahman (2019 March)</li>
    <li><a href="https://twitter.com/FlutterDeve/">Twitter: Flutter Developer (active)</a></li>
    <li><a href="https://dev.to/zaiste/22-short-lessons-to-become-a-mobile-programmer-using-flutter-framework-d9j">
22 Short Lessons To Become A Mobile Programmer Using Flutter Framework</a>, by Zaiste, (Posted: 2019 Nov; Updated: 2020 Jul)
</li>
<!-- To Read:
https://twitter.com/FlutterDeve/status/1432270663989874692
https://twitter.com/FlutterDeve/status/1478258420394323968
https://twitter.com/FlutterDeve/status/1460433320722923524
https://twitter.com/FlutterDeve/status/1451368135664103428
https://twitter.com/FlutterDeve/status/1458973876038234112
https://dev.to/zaiste/22-short-lessons-to-become-a-mobile-programmer-using-flutter-framework-d9j
-->
</ol>

<hr>

<p><small>Except from images and codes from other personnels, the content of this blogpost is released under a copyleft spirit. One may share (full or partial) content of this blogpost on other platforms if you share it under the free and open content spirit.</small></p>

<hr>
<p>Contact on twitter: <a href="https://twitter.com/e7_87">@e7_87</a>.</p>
<p>Discuss via GitHub issues: <a href="https://github.com/E7-87-83/E7-87-83.github.io/issues">here</a>. </p>
<p>Email: fungcheokyin at gmail.com</p>
<p>Created Date: 13th February, 2022.</p>

</body>

</html>
